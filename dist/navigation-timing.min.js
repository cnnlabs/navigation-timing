window.NTAPI=window.NTAPI||{},function(){"use strict";function n(o,i){var e,t,r=[],a={};if("object"==typeof o)for(t in o)o.hasOwnProperty(t)&&r.push(t);if("object"==typeof i)for(t in i)i.hasOwnProperty(t)&&r.indexOf(t)<0&&r.push(t);for(r.sort(),e=0;e<r.length;e++)t=r[e],"undefined"==typeof i[t]?a[t]=o[t]:"undefined"==typeof o[t]?a[t]=i[t]:"object"!=typeof i[t]||Array.isArray(i[t])||Array.isArray(o[t])?a[t]=i[t]:a[t]=n(o[t],i[t]);return a}function o(n){var o=n.domComplete-n.navigationStart;return window.debug&&(console.log(document.readyState),console.log("Page load time: "+o+"ms")),o}function i(){var n=new Date,o={navigator:window.navigator?window.navigator:{},timing:{location:{hash:window.location.hash,host:window.location.host,href:window.location.href,origin:window.location.origin,pathname:window.location.pathname,search:window.location.search},date:{formatted:n,ts:n.getTime()}},dimensions:{width:window.innerWidth?window.innerWidth:0,height:window.innerHeight?window.innerHeight:0}};return o}function e(o){if(o=o||{},o=n(i(),o),window.debug&&(console.log("Navigation Timing posting metrics:"),console.log(o)),o.type&&window.NTAPI.PostUrl){var e=new XMLHttpRequest;e.open("POST",window.timingPostUrl),e.setRequestHeader("Content-Type","application/json"),e.send(JSON.stringify(o))}else window.debug&&console.log("Navigation Timing Settings Definition Error. Metrics Type:",o.type,"PostUrl:",window.NTAPI.PostUrl)}function t(){var n={type:"onLoad",complete:"",timing:{performance:window.performance&&window.performance.timing?window.performance.timing:{}}},i=window.location.search.indexOf("debug=true")>-1||!1;return window.debug=i,n.complete=o(n.timing.performance),e(n),n}window.addEventListener?window.addEventListener("load",t):window.attachEvent("onload",t),window.NTAPI={postMetrics:e}}();